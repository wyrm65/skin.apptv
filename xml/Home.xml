<?xml version="1.0" encoding="UTF-8"?>
<window>
	<defaultcontrol always="true">9000</defaultcontrol>
	<menucontrol>6100</menucontrol>
	<onload>ClearProperty(ShowScreenSettings,home)</onload>
	<onload>SetFocus(9000)</onload>
	<onunload>ClearProperty(ShowScreenSettings,home)</onunload>
	<onunload>ClearProperty(ShutdownKodi,home)</onunload>
	<onunload>SetFocus(9000)</onunload>
	<include>zoom-openclose</include>
	<controls>
		<control type="group">
			<!-- Dim screen for fake Screen settings dialog -->
			<animation effect="fadediffuse" start="FFFFFFFF" end="FF404040" time="100" condition="[ControlGroup(6100).HasFocus() | String.IsEqual(Window(home).Property(ShowScreenSettings),show)] + !Skin.HasSetting(lock-screensettings)">Conditional</animation>
			<include>background</include>
			<control type="group">
				<visible>!$EXP[isActiveFullscreenWindow]</visible>
				<include>overlayed-windowfade</include>
				<include>fake-overlay</include>
				<control type="group">
					<include condition="$EXP[isVerticalHome]" file="Includes_VertHome.xml">VertHomeMenu</include>
					<include condition="$EXP[isHorizontalHome]" file="Includes_HorzHome.xml">HorzHomeMenu</include>
					<include condition="$EXP[isIconHome]" file="Includes_IconHome.xml">IconHomeMenu</include>
					<control type="group">
						<include content="page-indicator">
							<param name="indicatorleft" value="864" />
							<param name="indicatortop" value="0" />
							<param name="indicatorwidth" value="192" />
							<param name="indicatorheight" value="48" />
							<param name="indicatororientation" value="horizontal" />
							<param name="grp1indicate" value="[ControlGroup(6100).HasFocus()|String.IsEqual(Window(home).Property(ShowScreenSettings),show)]" />
							<param name="grp1visible" value="[!Skin.HasSetting(lock-screensettings)]" />
							<param name="grp2indicate" value="[$EXP[isVerticalHome]+Control.HasFocus(9000)]" />
							<param name="grp2visible" value="[$EXP[isVerticalHome]+[!Skin.HasSetting(lock-screensettings)|$EXP[isEnabledScrollbar]]]" />
							<param name="grp3indicate" value="[$EXP[isVerticalHome]+Control.HasFocus(23)]" />
							<param name="grp3visible" value="[$EXP[isVerticalHome]+$EXP[isEnabledScrollbar]]" />
							<param name="grp4indicate" value="[$EXP[isHorizontalHome]+[ControlGroup(9000).HasFocus()|ControlGroup(9800).HasFocus()]]" />
							<param name="grp4visible" value="[$EXP[isHorizontalHome]+!Skin.HasSetting(lock-screensettings)]" />
							<param name="grp5indicate" value="[$EXP[isIconHome]+[Control.HasFocus(9000)|ControlGroup(9800).HasFocus()]]" />
							<param name="grp5visible" value="[$EXP[isIconHome]+![Skin.HasSetting(lock-screensettings)]]" />
						</include>
					</control>
					<include>touch-controls</include>
				</control>
			</control>
		</control>
		<control type="group"><!-- Screen Settings Menu -->
			<left>0</left>
			<top>1080</top>
			<animation effect="slide" start="0,0" end="0,-1080">Visible</animation>
			<visible allowhiddenfocus="true">[ControlGroup(6100).HasFocus() | String.IsEqual(Window(home).Property(ShowScreenSettings),show)] + !Skin.HasSetting(lock-screensettings)</visible>
			<!-- Dialog background and title -->
			<include content="dialogbackground-common">
				<param name="dialogleft" value="622"/>
				<param name="dialogtop" value="274"/>
				<param name="dialogwidth" value="672"/>
				<param name="dialogheight" value="550"/>
				<param name="headingwidth" value="639"/>
				<param name="headinglabel" value="$LOCALIZE[31557]$INFO[Container(6100).NumItems, (,)]"/>
			</include>
			<include content="dialog-touchclose">
				<param name="closeleft" value="1262"/>
				<param name="closetop" value="98"/>
				<param name="onclickcondition1" value="!String.IsEqual(Window(home).Property(ShowScreenSettings),show)"/>
				<param name="onclickaction1" value="SetProperty(ShowScreenSettings,show,home)"/>
				<param name="onclickcondition2" value="String.IsEqual(Window(home).Property(ShowScreenSettings),show)"/>
				<param name="onclickaction2" value="ClearProperty(ShowScreenSettings,home)"/>
			</include>
			<include content="page-offscreen-vertical">
				<param name="indicator1left" value="958"/>
				<param name="indicator1top" value="340"/>
				<param name="indicator2left" value="958"/>
				<param name="indicator2top" value="784"/>
				<param name="indicatorsize" value="32"/>
				<param name="indicatorcontainer" value="6100"/>
			</include>
			<control type="grouplist" id="6100">
				<defaultcontrol>6101</defaultcontrol>
				<left>638</left>
				<top>370</top>
				<width>640</width>
				<height>420</height>
				<itemgap>0</itemgap>
				<onright>ClearProperty(ShowScreenSettings,home)</onright>
				<onright>9000</onright>
				<onleft>ClearProperty(ShowScreenSettings,home)</onleft>
				<onleft>9000</onleft>
				<control type="button" id="6101"><!-- Home menu type -->
					<include>settings-screen-common</include>
					<label>$LOCALIZE[31900] - $VAR[MenuType]</label>
					<onclick>RunScript(script.skinvariables,run_dialog=select,heading=$LOCALIZE[31900],separator=||,list=$LOCALIZE[31953]||$LOCALIZE[31952]||$LOCALIZE[31951],"executebuiltin_0=Skin.SetBool(HomeMenuIcon)||Skin.Reset(HomeMenuVertical)||Skin.Reset(HomeMenuHorizontal)||ReloadSkin()","executebuiltin_1=Skin.SetBool(HomeMenuHorizontal)||Skin.Reset(HomeMenuVertical)||Skin.Reset(HomeMenuIcon)||ReloadSkin()","executebuiltin_2=Skin.SetBool(HomeMenuVertical)||Skin.Reset(HomeMenuHorizontal)||Skin.Reset(HomeMenuIcon)||ReloadSkin()")</onclick>
				</control>
				<control type="button" id="6102"><!-- Home Settings Menu -->
					<include>settings-screen-common</include>
					<label>$LOCALIZE[31803]</label>
					<onclick>ActivateWindow(1152)</onclick>
				</control>
				<control type="group" id="6103">
					<visible>!$EXP[isVerticalHome]</visible>
					<width>640</width>
					<height>70</height>
					<control type="togglebutton" id="6104"><!-- Shelf image type -->
						<onup>6102</onup>
						<ondown>6106</ondown>
						<onright>ClearProperty(ShowScreenSettings,home)</onright>
						<onright>9000</onright>
						<onleft>ClearProperty(ShowScreenSettings,home)</onleft>
						<onleft>9000</onleft>
						<textwidth>510</textwidth>
						<label fallback="31575">$INFO[Skin.String(shelf-backgroundtype)]</label>
						<font>apptv22</font>
						<textoffsetx>15</textoffsetx>
						<align>right</align>
						<onclick>Skin.SetString(shelf-backgroundtype,$LOCALIZE[20445])</onclick>
						<altclick>Skin.SetString(shelf-backgroundtype,$LOCALIZE[31575])</altclick>
					</control>
					<control type="label">
						<label>$LOCALIZE[31859]</label>
						<font>apptv22</font>
						<textoffsetx>15</textoffsetx>
					</control>
				</control>
				<control type="radiobutton" id="6106"><!-- Home Screen Time -->
					<include>settings-screen-common</include>
					<label>$LOCALIZE[31888]</label>
					<radioposx>495</radioposx>
					<onclick>Skin.ToggleSetting(home-time)</onclick>
					<onclick>AlarmClock(changehome,ReloadSkin(),00:5,silent)</onclick>
					<selected>!Skin.HasSetting(home-time)</selected>
				</control>
				<control type="radiobutton" id="6107"><!-- Home Screen Current Weather -->
					<include>settings-screen-common</include>
					<label>$LOCALIZE[31889]</label>
					<radioposx>495</radioposx>
					<onclick>Skin.ToggleSetting(home-currentweather)</onclick>
					<onclick>AlarmClock(changehome,ReloadSkin(),00:5,silent)</onclick>
					<selected>Skin.HasSetting(home-currentweather)</selected>
					<enable>!String.IsEmpty(Weather.plugin)</enable>
				</control>
				<control type="radiobutton" id="6109"><!-- Show profile name on home screen -->
					<include>settings-screen-common</include>
					<label>$LOCALIZE[31899]</label>
					<onclick>Skin.ToggleSetting(home-profilename)</onclick>
					<radioposx>495</radioposx>
					<selected>Skin.HasSetting(home-profilename)</selected>
				</control>
				<control type="button" id="6108"><!-- Player controls -->
					<include>settings-screen-common</include>
					<label>$LOCALIZE[16003] $LOCALIZE[478]</label>
					<onclick>SetFocus(9000)</onclick>
					<onclick condition="String.IsEqual(Window(home).Property(ShowScreenSettings),show)">ClearProperty(ShowScreenSettings,home)</onclick>
					<onclick>ActivateWindow(playercontrols)</onclick>
					<visible>Player.HasMedia</visible>
				</control>
			</control>
		</control>
	</controls>
</window>